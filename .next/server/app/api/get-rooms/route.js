"use strict";(()=>{var e={};e.id=915,e.ids=[915],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2033:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>v,patchFetch:()=>P,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>h});var s={};r.r(s),r.d(s,{GET:()=>d});var o=r(884),i=r(6132),n=r(1040),a=r(7542),u=r(5798);async function d(e){try{let t=new URL(e.url),r=t.searchParams.get("q")||"",s=await a._.rooms.findMany({where:{isBooked:!1,OR:[{title:{contains:r,mode:"insensitive"}},{description:{contains:r,mode:"insensitive"}},{addr1:{contains:r,mode:"insensitive"}},{addr2:{contains:r,mode:"insensitive"}}]},include:{author:!0}});return s||(s=[]),u.Z.json({message:"Rooms fetched",success:!0,rooms:s})}catch(e){return u.Z.json({error:e.message},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/get-rooms/route",pathname:"/api/get-rooms",filename:"route",bundlePath:"app/api/get-rooms/route"},resolvedPagePath:"D:\\coding\\find-pg-master\\find-pg-master\\src\\app\\api\\get-rooms\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:l,headerHooks:g,staticGenerationBailout:h}=c,v="/api/get-rooms/route";function P(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}},7542:(e,t,r)=>{r.d(t,{_:()=>i});let s=require("@prisma/client"),o=globalThis,i=o.prisma??new s.PrismaClient;"production"!==process.env.APP_ENV&&(o.prisma=i)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[271,107],()=>r(2033));module.exports=s})();